# ===========================================
# Via Bridge Relayer Configuration
# ===========================================

# ===========================================
# Network Configuration (RPC Endpoints)
# ===========================================

# Ethereum RPC URL - Use HTTP/HTTPS endpoints
ETH_URL=http://localhost:8545
# For mainnet, use: https://mainnet.infura.io/v3/YOUR-PROJECT-ID
# For testnet, use: https://sepolia.infura.io/v3/YOUR-PROJECT-ID

# Via RPC URL
VIA_URL=http://localhost:8546

# ===========================================
# Bridge Contract Addresses
# ===========================================

# Ethereum bridge contract address
ETHEREUM_BRIDGE_ADDRESS=0xDc64a140Aa3E981100a9becA4E685f962f0cF6C9

# Via bridge contract address
VIA_BRIDGE_ADDRESS=0xCf7Ed3AccA5a467e9e704C703E8D87F634fB0Fc9

# ===========================================
# Bridge Event Names
# ===========================================

# Ethereum bridge event names
ETH_BRIDGE_INITIATED_EVENT=DepositMessageSent
ETH_BRIDGE_FINALIZED_EVENT=MessageWithdrawalExecuted

# Via bridge event names
VIA_BRIDGE_INITIATED_EVENT=WithdrawalSent
VIA_BRIDGE_FINALIZED_EVENT=DepositExecuted

# ===========================================
# Relayer Configuration
# ===========================================

# Private key of the relayer wallet (without 0x prefix)
# This wallet will sign bridge transactions and refunds
# IMPORTANT: Keep this secret and secure!
RELAYER_PRIVATE_KEY=0xac0974bec39a17e36ba4a6b4d238ff944bacb478cbed5efcae784d7bf4f2ff80

# Worker polling interval in milliseconds
# How often workers check for new events and process transactions
WORKER_POLLING_INTERVAL=5000

# Transaction batch size for processing
TRANSACTION_BATCH_SIZE=10

# Block confirmations required before processing events
ETH_WAIT_BLOCK_CONFIRMATIONS=6
VIA_WAIT_BLOCK_CONFIRMATIONS=0
WITHDRAWAL_FINALIZATION_CONFIRMATIONS=12

# Block from which worker will start to monitor transactions, usually set this to block where bridge is deployed
ETH_STARTING_BLOCK=
VIA_STARTING_BLOCK=

# Refund interval in milliseconds
REFUND_INTERVAL=60000

# ===========================================
# L2 Gas Configuration
# ===========================================

L2_GAS_PRICE=1000
L2_GAS_LIMIT=500000
L2_GAS_PER_PUBDATA=800

# ===========================================
# Relayer Database Configuration
# ===========================================
# This is the main database used by the relayer for storing
# transactions, event cursors, and other relayer state.

# Option 1: Use complete connection string
DATABASE_URL=postgresql://postgres:postgres@localhost:5432/relayer

# Option 2: Use individual settings (if DATABASE_URL is not set)
DATABASE_HOST=localhost
DATABASE_PORT=5432
DATABASE_USER=postgres
DATABASE_PASSWORD=postgres
DATABASE_NAME=relayer

# Database connection pool settings
DATABASE_CONNECTION_POOL_SIZE=100
DATABASE_CONNECTION_IDLE_TIMEOUT_MS=12000

# ===========================================
# Graph Database Configuration (Optional)
# ===========================================
# Use these settings when the graph/subgraph database is on a 
# separate server from the relayer database. If not specified,
# the graph database will use the same connection as the relayer
# database (settings above).

# Option 1: Use complete connection string for graph DB
# GRAPH_DATABASE_URL=postgresql://postgres:postgres@graph-db-host:5432/graph_db

# Option 2: Use individual settings for graph DB (falls back to relayer DB settings)
# GRAPH_DATABASE_HOST=localhost
# GRAPH_DATABASE_PORT=5432
# GRAPH_DATABASE_USER=postgres
# GRAPH_DATABASE_PASSWORD=postgres
# GRAPH_DATABASE_NAME=graph_db
# GRAPH_DATABASE_CONNECTION_POOL_SIZE=50

# Graph Database Schemas (used in both same-server and separate-server setups)
L1_GRAPH_SCHEMA=sgd3
L2_GRAPH_SCHEMA=sgd2

# ===========================================
# Logging Configuration
# ===========================================

# Environment mode
NODE_ENV=development

# Logging level: error, warn, info, debug
LOG_LEVEL=debug

# Enable file logging (logs will be saved to logs/ directory)
ENABLE_FILE_LOGGING=false

# Log file rotation settings
LOG_MAX_SIZE=20m
LOG_MAX_FILES=14d

# ===========================================
# Application Settings
# ===========================================

# Port for health check endpoint (optional)
PORT=3000

# Graceful shutdown timeout in milliseconds
SHUTDOWN_TIMEOUT=10000

# ===========================================
# Monitoring & Alerts (Optional)
# ===========================================

# Webhook URL for alerts and notifications
# WEBHOOK_URL=https://hooks.slack.com/services/YOUR/SLACK/WEBHOOK

# Email notifications (if implemented)
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USER=your-email@gmail.com
# SMTP_PASS=your-app-password
# ALERT_EMAIL=admin@yourcompany.com

# ===========================================
# Development Settings
# ===========================================

# Enable debug mode for more verbose logging
DEBUG=false

# Skip transaction confirmations (development only)
SKIP_CONFIRMATIONS=false

# Dry run mode - don't actually send transactions
DRY_RUN=false
